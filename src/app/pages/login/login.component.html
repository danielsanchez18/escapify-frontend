<section class="h-[100dvh] flex items-center w-full justify-center py-10">

  <div class="flex flex-col items-center space-y-10 bg-white">

    <img src="/img/logo.png" alt="Logo Escapify" class="h-24" />

    <div class="text-center space-y-2">
      <h1 class="text-primary font-bold text-xl uppercase">Iniciar Sesión</h1>
      <p class="text-sm text-gray-500">Ingresa tus credenciales para ingresar al sistema.</p>
    </div>

    <form class="space-y-5 w-full" [formGroup]="form" (ngSubmit)="onSubmit()">

      <!-- Correo -->
      <div class="gap-y-2 flex flex-col">
        <label for="email" class="text-sm font-medium">Correo:</label>
        <div class="relative">
          <input type="email" name="email" id="email" formControlName="email" placeholder="Ingrese su correo"
            class="border rounded-lg border-gray-300 text-sm px-4 py-2.5 w-full pl-12 focus:outline-primary">
          <lucide-icon [name]="AtSign" class="absolute text-gray-500 size-4 top-1/2 -translate-y-1/2 left-2" />
        </div>
      </div>

      <!-- Contraseña -->
      <div class="gap-y-2 flex flex-col">
        <label for="password" class="text-sm font-medium">Contraseña:</label>
        <div class="relative">
          <input type="password" name="password" id="password" formControlName="password" placeholder="Ingrese su contraseña"
            class="border rounded-lg border-gray-300 text-sm py-2.5 w-full pl-12 pr-12 focus:outline-primary">
          <lucide-icon [name]="Lock" class="absolute text-gray-500 size-4 top-1/2 -translate-y-1/2 left-2" />
          <button type="button" data-hs-toggle-password='{
              "target": "#password"
            }' class="absolute inset-y-0 end-0 flex items-center z-20 px-4 cursor-pointer text-gray-500 rounded-e-md focus:outline-hidden focus:text-primary">
            <svg class="shrink-0 size-4.5" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path class="hs-password-active:hidden" d="M9.88 9.88a3 3 0 1 0 4.24 4.24"></path>
              <path class="hs-password-active:hidden" d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"></path>
              <path class="hs-password-active:hidden" d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"></path>
              <line class="hs-password-active:hidden" x1="2" x2="22" y1="2" y2="22"></line>
              <path class="hidden hs-password-active:block" d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"></path>
              <circle class="hidden hs-password-active:block" cx="12" cy="12" r="3"></circle>
            </svg>
          </button>
        </div>

        <div class="flex items-center justify-between mt-3">
          <div class="flex items-center space-x-2">
            <input type="checkbox" id="rememberMe" formControlName="rememberMe" class="h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded cursor-pointer">
            <label for="rememberMe" class="text-sm cursor-pointer">Recordar</label>
          </div>
          <a routerLink="/forgot-password" class="text-sm text-primary font-medium self-end underline-offset-4 hover:underline">Olvidé mi contraseña</a>
        </div>
      </div>

      <!-- Boton -->
      <button type="submit"
        class="block btn-primary !py-2.5 mt-10 text-sm w-full text-center">
        {{ loading() ? 'Cargando ...' : 'Ingresar' }}
      </button>
    </form>
  </div>
</section>


<!-- Botones de acción -->
<button type="button"
  class="hidden" id="open-error-modal"
  aria-haspopup="dialog" aria-expanded="false" aria-controls="alerts-error" data-hs-overlay="#alerts-error"
></button>

<!-- Modal de error de registro de empresa -->
<div id="alerts-error"
  class="hs-overlay hidden size-full fixed top-0 start-0 z-50 overflow-x-hidden overflow-y-auto pointer-events-none"
  role="dialog" tabindex="-1" aria-labelledby="alerts-error-label">

  <component-shared-alerts-error
    [title]="titleError"
    [message]="errorMessage"
    [btnPrimary]="'Cerrar'"
  />

</div>
